Du bist ein Experte für das erstellen von confluence und Jira makros und interaktiven Formularen mit dem Plugin Confiforms. 
(confiforms.com) Mach dich zuerst mit den basic concepts unter https://wiki.vertuna.com/spaces/CONFIFORMS/pages/1212419/Basic+concepts vertraut und allen nötigen Informationen
um mir bei der folgenden Aufgabe zu helfen. Alle nötigen Infos findest du entweder auf https://confiforms.com/, oder auf einer dieser Seiten (https://wiki.vertuna.com/spaces/CONFIFORMS/pages/557099/Tutorials , https://wiki.vertuna.com/spaces/CONFIFORMS/pages/1212529/Cookbook , https://wiki.vertuna.com/spaces/CONFIFORMS/pages/1212428/Documentation ) 
oder auf den offiziellen Seiten von Atlassian zu Jira / Confluence. Schaue auch unbedingt in den social media kanälen von Atlassian nach, wie Forum usw.




## Aufgabenstellung: Confiforms-Makro zur automatisierten Jira-Epic-Erstellung

### Ziel  
Entwickle ein Confiforms-Makro für Confluence, das es Nutzer:innen ermöglicht, über einen Button ein Epic-Ticket zu erstellen. 
In einem ersten Schritt wird der User nach einem Namen für das Ticket gefragt. 
In einem nächsten Schritt muss der User die unten aufgeführten Formularfelder ausfüllen (falls Pflichtfeld), bzw die voreingetragenen Infos einfach belassen und speichern.
Nach Klick auf „Okay“ soll im Jira-Projekt **BWPTLS24** automatisch ein Epic mit entsprechendem Namen erstellt werden. 
Sollte es zu Fehlern bei der Erstellung kommen, muss das dem User zeitnah deutlich mitgeteilt werden.
Nach erfolgreicher Erstellung soll dem Nutzer eine tabellarische Darstellung der 5 zuletzt erstellten Tickets im Projekt "BWPTLS24" angezeigt werden.
Sowohl der Name des Tickets als auch die vergebene Ticketnummer sollen durch einen Link zu der Jiraseite des neuen Epics dargestellt werden.


### Anforderungen

1. **Authentifizierung**  
   - Die Jira-API wird über einen API-Token (Basic Auth) angesprochen. Der Token wird vom jeweiligen Nutzer bereitgestellt.
2. **Felder**  
   	In einem anzulegenden Epic-Ticket sollen folgende Felder in den angegebenenen Spezifikationen und der Reihenfolge in der sie hier aufgeführt wurden enthalten sein.
	Ich stelle dir die Liste in einer Art vorformatiertem JSON pseudoCode dar:
	
	{
    "fields": 
		{
        "project": 				{ "key": "BWPTLS24" },
		"issuetype": 			{"name":"Epic" },

		"summary": 				"Zusammenfassung [entry.field_name]", (hier soll das Ergebnis am Ende der String "Einführung von " plus der Usereingabe des Feldes sein)
        "customfield_10103": 	"Epic Name [entry.field_name]",        
		"customfield_10403": 	{"id": "Anforderungskategorie [entry.field_name]" },
		"components":			[{"name":"Component/s [entry.field_name]"}],
        "priority": 			{"name": "Priority [entry.field_name]" },
		"duedate": 				"[entry._now.jiraDate]",
		"customfield_10524": 	"[entry._now.jiraDate]",
		"assignee": 			{"name": "[entry._user]" },  (wenn der User dieses Feld leer lässt, so soll automatisch der Ersteller als assignee eingetragen werden)
		"customfield_12500": 	{"name": "Co-Bearbeiter/-in (Mehrfachauswahl) [entry.field_name]" },

		"description": 			"Beschreibung [entry.field_name]",
		"fixVersions": 			[{"name": "Lösungsversion [entry.field_name]" } ]        	
               
    	}
	}
	
	### Ergänzende Infos zu den Feldern:
		project: 			Beschriftung "Projekt", Pflichtfeld, wird automatisch immer mit "BWPTLS24" vorausgefüllt.
		issuetype:			Beschriftung "Typ", Pflichtfeld, ist immer mit "Epic" vorausgefüllt.
		summary:			Beschriftung "Zusammenfassung", Pflichtfeld
		customfield_10103:	Beschriftung "Epic Name", Pflichtfeld, ist immer gleich der Eingabe des Feldes "summary"
		customfield_10403:	Beschriftung "Anforderungskategorie", Dropdownmenü mit 4 Einträgen. Weitere Infos weiter unten
		components:			Beschriftung "Komponenten", hier soll eine Mehrfachauswahl aus einer von unserem Projekt angelegten Jiraliste möglich sein. 
		priority:			Beschriftung "Priorität", Dropdownliste der in Jira benutzen Prioritäten (Sehr niedrig, Niedrig, Mittel, Hoch, Sehr Hoch)
		duedate:			Dieses Feld soll im Augenblick noch unsichtbar bleiben, das Erstelldatum des Epictickets soll der Inhalt sein
		customfield_10524:	Dieses Feld soll im Augenblick noch unsichtbar bleiben, das Erstelldatum des Epictickets soll der Inhalt sein
		assignee:			Beschriftung "Bearbeiter", wenn nicht anderst befüllt, soll hier der Ersteller des Epics automatisch eingetragen werden
		customfield_12500:	Beschriftung "Co-Bearbeiter/-in", hier soll eine Mehrfachauswahl von Jiranutzern möglich sein, die zusätzlich dem Ticket zugewiesen werden
		description:		Beschriftung "Beschreibung", dies soll ein text area Feld sein, in das einfach Freitext eingetragen werden kann
		fixVersions:		Beschriftung "Lösungsversion", hier soll eine Mehrfachauswahl aus einer von unserem Projekt angelegten Jiraliste möglich sein.
		
3. **Projekt**  
   - Das Epic wird immer im Jira-Projekt mit dem Key **BEPTLS24** erstellt.
4. **Berechtigungen**  
   - Alle Nutzer:innen, die das Makro verwenden, haben die nötigen Rechte, um im Projekt ein Epic zu erstellen. Die Authentifizierung erfolgt mit deren eigenen Nutzerrechten.
5. **Fehlerbehandlung**  
   - Fehler bei der Erstellung (z.B. fehlende Berechtigung, ungültiger Name, Netzwerkfehler) werden auf der Confluence-Seite angezeigt.
6. **Rückgabe**  
   - Nach erfolgreicher Erstellung wird ein Link zum neuen Epic angezeigt. Der Linktext enthält die Jira-Ticketnummer und den vergebenen Namen.
7. **Seitenaktualisierung**  
   - Nach erfolgreicher Epic-Erstellung soll die Seite automatisch aktualisiert werden, um den neuen Status anzuzeigen.

### Technische Hinweise

- Es wird Confluence 9.2.4 und Jira 10.3.6, sowie das confiforms plugin in Version 3.17.7 von Vertuna.com benutzt
- Benutze nur Elemente, die dir confiforms grafisch zur Verfügung stellt, also z.B. "Confiforms Field Definition" "Confiforms IFTTT Itegration Rules" usw. 
- Bei "Confiforms IFTTT Itegration Rules" Elementen zeigen den einzufügenden Code für das mapping der Felder o. ä. als sauber formatierten JSON code an.
- Ich habe keine Adminrechte und kann auch nicht auf den Storage Format Editor der in Confiforms integriert ist, zugreifen
- Die Nutzer-Eingabe sind für die Felder, für die als Pflichtfelder angelegt sind, zu validieren.(z.B. keine leeren Eingaben, keine Sonderzeichen, Länge 5–255 Zeichen).
- Es kommt ausschließlich Jira/Confluence in seiner "Data Center" Version zum Einsatz.
- Die Implementierung soll auf maximale Benutzerfreundlichkeit und Fehlertoleranz ausgelegt sein.

